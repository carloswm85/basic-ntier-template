%%{init: {
    "theme": "dark",
    "themeVariables": {
        "lineColor": "#FF00FF"
    }
}}%%

graph TB

  %% ----------- LAYERS -----------
  subgraph Data["ğŸ—„ï¸  Data Layer"]
    DB[("Database (SQL Server), Entity Models, Migrations, EF Core")]
  end

  subgraph Repository["ğŸ“¦  Repository Layer"]
    REPO[Unit of Workd and Repository]
  end

  subgraph Service["âš™ï¸  Service Layer"]
    SVC[Service, Mapping, Contracts, DTOs]
  end

  %% Presentation Layer shifted to the side
  subgraph Pres["ğŸ¨ Presentation Layer"]
    subgraph API["ğŸŒ API Layer"]
        REST["RESTful API (HTTP Protocol)"]
    end
    subgraph Clients["ğŸ’» Client Applications"]
      MVC[Web.MVC]
      SPA[Web.Angular]
    end

  end

  %% ----------- CONNECTIONS -----------
  DB <--> REPO
  REPO <--> SVC
  SVC <--> REST
  SVC <--> MVC
  REST <--> MVC
  REST <--> SPA

  